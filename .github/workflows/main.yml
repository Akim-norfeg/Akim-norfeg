name: üêç Generate Contribution Snake

# –î–∞–µ–º –ø—Ä–∞–≤–æ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
permissions:
  contents: write

on:
  schedule:
    - cron: '0 */6 * * *'   # –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      # –ö–ª–æ–Ω–∏—Ä—É–µ–º –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–º–∏ credentials
      - name: Checkout
        uses: actions/checkout@v3
        with:
          persist-credentials: true

      # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º ¬´–∑–º–µ–π–∫—É¬ª
      - name: Generate snake animation
        uses: Platane/snakes@v3.3.0       # –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Action –∏ –≤–µ—Ä—Å–∏—è
        with:
          username: akim-norfeg
          token: ${{ secrets.GITHUB_TOKEN }}
          output-format: svg
          output-file: contrib-snake.svg   # –ø–æ—è–≤–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ

      # –£–±–µ–∂–¥–∞–µ–º—Å—è, —á—Ç–æ —Ñ–∞–π–ª –¥–æ–±–∞–≤–ª–µ–Ω
      - name: Git status
        run: git status

      # –ü—É—à–∏–º –æ–±—Ä–∞—Ç–Ω–æ –≤ main (–Ω–µ master!)
      - name: Push changes
        uses: ad-m/github-push-action@v0.6.0
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          branch: main
          force: true
